# name: Deploy to test server

# on:
#     push:
#         branches:
#             - main
#     workflow_dispatch:

# jobs:

#     build-frontend-and-push:
#         runs-on: ubuntu-latest

#         steps:
#         - uses: actions/checkout@v3
#         - name: Docker Login
#           uses: docker/login-action@v2.1.0
#           with:
#             username: ${{ secrets.DOCKERHUB_USERNAME }}
#             password: ${{ secrets.DOCKERHUB_TOKEN }}

#         - name: Build and push Docker images
#           uses: docker/build-push-action@v4.0.0
#           with:
#              context: .
#              push: true
#              tags: ramiahm/docker-react:v1

name: Deploy-frontend-project

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source code
        uses: actions/checkout@v3

      - name: Docker login
        run: docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}

      - name: Generate deployment package
        run: zip -r deploy.zip . -x '*.git*'
